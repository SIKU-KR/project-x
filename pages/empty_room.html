<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>빈 강의실 찾기</title>
  <link rel="stylesheet" href="../css/empty_room.css">
  <link rel="stylesheet" href="https://pyscript.net/releases/2023.11.1/core.css" />
  <script type="module" src="https://pyscript.net/releases/2023.11.1/core.js"></script> 
  </head>
  <py-config>
    packages = [
      "pandas", "numpy"
    ]
    [[fetch]]
        files = ['empty_room.py']
        from = '../python'
        to_folder = 'package'
  </py-config>

<body>
    <div class="container">
        <!-- 이전 페이지로 돌아가는 버튼 -->
        <button onclick="window.history.back();" id="back-button">이전 페이지로</button>

        <!-- 제목 -->
        <h1 id="title">빈 강의실 찾기</h1>
        <div class="dropset">
        <div class="pair">
        <!-- 드롭박스 제목 -->
        <h3 id="text1">단과대학 선택</h3>
        
        <!-- 아이템 드롭박스 -->
        <select id="buildings">
            <option value ="문">문과대학</option>
            <option value ="이">이과대학</option>
            <option value ="공A">공과대학A</option>
            <option value ="공B">공과대학B</option>
            <option value ="공C">공과대학C</option>
            <option value ="공D">공과대학D</option> 
            <option value ="공E">공과대학E</option>
            <option value ="공예">공과대학(예)</option>
            <option value ="신공">공과대학(신공)</option>
            <option value ="법">법학관(종합강의동)</option>
            <option value ="경영">경영대학(사회과학관)</option>
            <option value ="동">동물생명과학대학</option>
            <option value ="산학">산학협동관</option>
            <option value ="생">생명환경과학대학</option>
            <option value ="수">수의과대학</option>
            <option value ="해봉">해봉부동산학관</option>
            <option value ="건">건축대학</option>
            <option value ="예">예술문화대학</option>
            <option value ="사">교육과학관</option>
            <option value ="언어원">언어교육원</option>
            <option value ="새">새천년관</option>
            <option value ="종강">종합강의동</option>
            <option value ="중장비">중장비 실험동</option>
            <option value ="상허관">상허연구관</option>
            <option value ="창">창의관</option>
        </select>
        </div>
        <div class="pair">
        <!-- 드롭박스 제목 -->
        <h3 id="text2">시간 선택</h3>

        <!-- 아이템 드롭박스 -->
        <select id="time">
            <option value ="1">1</option>
            <option value ="2">2</option>
            <option value ="3">3</option>
            <option value ="4">4</option>
            <option value ="5">5</option>
            <option value ="6">6</option>
            <option value ="7">7</option>
            <option value ="8">8</option>
            <option value ="9">9</option>
            <option value ="10">10</option>
            <option value ="11">11</option>
            <option value ="12">12</option>
            <option value ="13">13</option>
            <option value ="14">14</option>
            <option value ="15">15</option>
            <option value ="16">16</option>
            <option value ="17">17</option>
            <option value ="18">18</option>
            <option value ="19">19</option>
            <option value ="20">20</option>
            <option value ="21">21</option>
            <option value ="22">22</option>
            <option value ="23">23</option>
        </select>
        </div>
        <div class="pair">
        <!-- 드롭박스 제목 -->
        <h3 id="text3">요일 선택</h3>

        <!-- 아이템 드롭박스 -->
        <select id="day">
            <option value ="월">월</option>
            <option value ="화">화</option>
            <option value ="수">수</option>
            <option value ="목">목</option>
            <option value ="금">금</option>
            <option value ="토">토</option>
        </select>
        </div>
        </div>
       <!-- 출력 버튼 -->
      <button id="output-button" py-click="button_click_event">출력</button>

      <h4 id="result"></h4>

       <script type="py">
        from pyscript import document
        
        import pandas as pd
        import numpy as np
        from copy import deepcopy
        from pyodide.http import open_url

        from package.empty_room import get_emptylist

        buildings = document.querySelector("#buildings")
        days = document.querySelector("#day")       
        times = document.querySelector("#time")
        result_area = document.querySelector("#result")

        def button_click_event(*args):
          b = buildings.value
          d = days.value
          t = int(times.value)
          result = get_emptylist(b, t, d)
          print(b, t, d)
          print(result)
          result_str = ''
          for i in result:
            result_str += i + '\n'
          result_area.innerText = result_str

      </script> 
    </div>

</body>
</html>
